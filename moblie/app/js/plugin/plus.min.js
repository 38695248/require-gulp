(function(e){typeof define=="function"&&define.amd?define(["jquery"],e):e(jQuery)})(function(e){e.fn.plus=function(t){function a(){r.decimal=r.isInt?0:r.decimal,i.unbind("click").bind("click",function(){var n=e(this).siblings(".number").find("input"),i=num=Number(n.val());num+=r.gradation,num=l(r.maxNum,r.minNum,num),n.val(num),t.callback&&r.callback(num,e(this),i)}),s.unbind("click").bind("click",function(){var n=e(this).siblings(".number").find("input"),i=num=Number(n.val());num-=r.gradation,num=l(r.maxNum,r.minNum,num),n.val(num),t.callback&&r.callback(num,e(this),i)}),o.unbind("click").bind("keyup",function(){var n=e(this).val(),i=e(this);if(n=="")return u=r.defaultNum,!1;if(!c(n,r.isInt)||!h(r.maxNum,parseInt(n)))return e(this).val(u),config.tip.tips({htmlmsg:'<div style="padding:30px">输入错误，请重新输入。</div>',type:0}),!1;t.callback&&r.callback(n,e(this))}),o.change(function(){var n=e(this).val();if(n=="")return u=r.defaultNum,!1;if(!c(n,r.isInt)||!h(r.maxNum,parseInt(n)))return e(this).val(u),config.tip.tips({htmlmsg:'<div style="padding:30px">The number you entered exceeds the maximum value or not in the correct format</div>'}),!1;t.callback&&r.callback(n,e(this))}),o.on("blur",function(){if(e(this).val()=="")return e(this).val(r.defaultNum),!1;e(this).val(Number(e(this).val()).toFixed(r.decimal))})}function f(){i.siblings(".number").find("input").val(1),i.unbind("click"),s.unbind("click")}function l(e,t,n){return n=n>e?e:n,n=n<t?t:n,n}function c(e,t){if(t){var n=/^-?[1-9]\d*$/;return n.test(e)}return!isNaN(e)}function h(e,t){return e>t}var n=this,r={defaultNum:1,gradation:1,isInt:!0,decimal:2,minNum:1,maxNum:1e12,unbind:0,callback:function(){return!1}};t&&e.extend(r,t);var i=n.find(".plus"),s=n.find(".minus"),o=n.find(".number"),u=r.defaultNum;if(r.unbind==1)return f(),!1;a()}});
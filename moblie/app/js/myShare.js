require.config({paths:{jquery:"libs/jquery-1.8.3.min",config:"comm/config",base:"comm/base",ajax:"comm/ajax",up:"comm/uploadUtils",pjax:"comm/pjax",mas:"comm/masonry",share:"comm/shareViewcomm",swiper:"libs/swiper.min",jquery_ui:"jqui/jquery-ui.min",infinitescroll:"plugin/jquery.infinitescroll.min",lazyload:"plugin/jquery.lazyload.min",jquerypjax:"plugin/jquery.pjax",baguettebox:"plugin/baguettebox.min",checkInput:"plugin/checkInput.min",checkImgExists:"plugin/checkImgExists",checkboxFn:"plugin/checkboxFn.min",serializeJson:"plugin/serializeJson.min",setTagPos:"plugin/setTagPos.min",stopscroll:"plugin/stopscroll.min",plus:"plugin/plus.min",countdown:"plugin/countdown.min",scrollToEnd:"plugin/scroll.min",fixedTop:"plugin/fixedTop.min",hoverclick:"plugin/hoverclick.min",jcrop:"jcrop/jquery.Jcrop.min"}}),define(["jquery","config","base","ajax","comm/followBtn","checkInput"],function(e,t,n,r,i){var s=function(){i.followBtn(),e("img.avatar_lazy").checkImgExists(function(e,t){var n=e,r=t,i=n.parent(".useravatar_bg");i.css({background:"url("+r+") no-repeat","background-size":"cover"})}),e("#editProfile").unbind("click").bind("click",function(){r.ajaxInit({url:"/share/show_f_page.html?page=profile",type:"GET",isloading:!0,dataType:"html",params:"",callback:function(n){e("body").append(n);var i=e("#profileTipbox").attr("data-index");t.tip.centerDiv({divId:"profileTipbox",type:1,callback:function(){e("#profileForm").find(".avatar_loading").checkImgExists(),e("#profileForm").checkInput({submitBtnFn:function(n){var s=n.serializeJson();r.ajaxInit({url:"/user/setting_update.html?type=info1",params:s,callback:function(n){t.tip.tips({htmlmsg:'<div style="padding:30px">'+n.msg+"</div>",w:"90%",type:0,scallback:function(){t.tip.centerDivClosed({indexTipDiv:e("#profileTipbox"),indexNum:i,type:1}),window.location.reload()}})}})}})}})}})})},o=function(){e(".fancyToggle").toggleUtils({}),e(".toc li").scrollPosition({o:"accountBasics"}),e("#userSettingsForm").find(".avatar_loading").checkImgExists(),e("#changePasswordButton").unbind("click").bind("click",function(){r.ajaxInit({url:"/common/gettpl.html?name=editPwd&ch=sns",type:"GET",isloading:!0,dataType:"html",params:"",callback:function(n){e("body").append(n),t.tip.centerDiv({divId:"pwdTipBox",type:1,callback:function(){e(".forgotPassword").unbind("click").bind("click",function(){r.ajaxInit({url:"/user/forgotPassword.html",params:{},callback:function(e){t.tip.tips({htmlmsg:'<div style="padding:30px">'+e.msg+"</div>",w:"90%"})}})}),e("#pwdFrom").checkInput({inputs:{OldPwd:{isempty:[0],focusMsg:"",rightMsg:"",errorMsg:""}},submitBtnFn:function(e){var n=e.serializeJson();r.ajaxInit({url:"/user/editpwd.html",params:n,callback:function(e){e.status?t.tip.tips({htmlmsg:'<div style="padding:30px">'+e.msg+"</div>",w:"90%",type:0,scallback:function(){window.location.href="/user/setting.html"}}):t.tip.tips({w:"90%",type:0,htmlmsg:'<div style="padding:30px">'+e.msg+"</div>"})}})}})}})}})}),e("#userSettingsForm").checkInput({submitBtnFn:function(e){var n=e.serializeJson();r.ajaxInit({url:"/user/setting_update.html?type=info2",params:n,callback:function(e){e.status?t.tip.tips({w:"90%",type:0,htmlmsg:'<div style="padding:30px">'+e.msg+"</div>",scallback:function(){window.location.href="/share/myshares.html"}}):t.tip.tips({w:"90%",htmlmsg:'<div style="padding:30px">'+e.msg+"</div>"})}})}})};return s()});
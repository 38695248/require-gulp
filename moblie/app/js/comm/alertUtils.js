define(["jquery","config"],function(e,t){var n=function(n){var r={htmlmsg:"",title:t.base.lang.js_base_tip,type:1,istop:!1,position:"fixed",isShade:!0,touchmove:0,callback:function(){},scallback:function(){},dcallback:function(){},closeback:function(){},w:"96%"};n&&e.extend(r,n);var o='<div class="tipbox-in" data-index="0"><h1 class="tiptop">'+r.title+"</h1>"+'<span class="ico02 tipclose closeBtn"></span>'+'<form class="tipForm">'+'<div class="tipcont">'+r.htmlmsg+"</div>"+'<div id="tipbottom" class="tipbottom">'+'<div class="fr formFooterButtons">'+'<button class="btn-border btn rounded mr-5 btnCancel closeBtn" type="button">'+'<span class="buttonText">'+t.base.lang.js_base_cancel+"</span>"+"</button>"+'<button type="button" class="btn btn-danger btnTipsubmit">'+'<span class="buttonText">'+t.base.lang.js_base_confirm+"</span>"+"</button>"+"</div>"+'<div class="blank0"></div>'+"</div></form>"+"</div>",u=e(".modalMask").size(),a=e('<div id="tipbox_'+u+'" data-index="'+u+'" class="tipbox fade" style="width:'+r.w+'">'+o+"</div>");r.type==0&&a.find(".btnCancel").remove(),e("body").append(a),n.callback&&r.callback();var f="tipbox_"+u;i({divId:f,num:u,shade:r.isShade,position:r.position,istop:r.istop,touchmove:r.touchmove}),a.find(".closeBtn").unbind("click").bind("click",function(){var t=e(this).parents(".tipbox").attr("data-index"),i=e(this).parents(".tipbox");s({myIndeTipDiv:i,numIndex:t}),n.closeback&&r.closeback()}),a.find(".btnTipsubmit").unbind("click").bind("click",function(){var t=e(this).parents(".tipbox").attr("data-index"),i=e(this).parents(".tipbox");n.scallback&&r.scallback(),s({myIndeTipDiv:i,numIndex:t}),n.dcallback&&r.dcallback()})},r=function(n){var r={divId:"",isShade:!0,w:"96%",type:0,istop:!1,isbottom:!1,position:"absolute",p_new:0,touchmove:0,callback:function(){},zcallback:function(){},closeback:function(){}};n&&e.extend(r,n);var s=e(".modalMask").size();e("#"+r.divId).attr("data-index",s),e("#"+r.divId).css({width:r.w}),n.callback&&r.callback({num:s}),r.p_new==1?newcurrentPosition({divId:r.divId,num:s,shade:r.isShade,position:r.position,callback:r.zcallback,istop:r.istop,touchmove:r.touchmove,isbottom:r.isbottom}):i({divId:r.divId,num:s,shade:r.isShade,position:r.position,callback:r.zcallback,istop:r.istop,touchmove:r.touchmove,isbottom:r.isbottom}),e(".closeBtnHtml").unbind("click").bind("click",function(){var i=e(this).parents(".tipbox").attr("data-index"),s=e(this).parents(".tipbox");o({indexTipDiv:s,indexNum:i,type:r.type});var u=e("#bigcategorybox").attr("data-index");t.tip.centerDivClosed({indexNum:u,indexTipDiv:e("#bigcategorybox"),type:1}),n.closeback&&r.closeback()})},i=function(n){var r=n.position;if(r=="absolute")var i=a().x+(e("body").width()-e("#"+n.divId).width())/2,s=a().y+(t.base.getHeightBody()-e("#"+n.divId).height())/2;else var i=(e("body").width()-e("#"+n.divId).width())/2,s=(t.base.getHeightBody()-e("#"+n.divId).height())/2;var o=e(".modalMask").size()*90+9999,f=n.num;n.shade&&u({num:f,touchmove:n.touchmove}),s<=0&&!n.istop?s=20:n.istop&&(s=0),i<=0&&!n.istop?i=20:n.istop&&(i=0),n.isbottom==1?e("#"+n.divId).css({"z-index":o+1}).show():e("#"+n.divId).css({left:i,top:s,position:r,"z-index":o+1}).show().addClass("loaded"),n.callback&&n.callback()},s=function(t){var n=t.numIndex,r=t.myIndeTipDiv;r.remove(),e("#modalMask_"+n).remove(),t.callback&&t.callback()},o=function(t){var n={indexNum:"",indexTipDiv:"",type:0,callback:function(){}};t&&e.extend(n,t),n.type==1?(n.indexTipDiv.remove(),e("#modalMask_"+n.indexNum).remove()):n.type==2?(n.indexTipDiv.hide(),e("#modalMask_"+n.indexNum).remove()):(n.indexTipDiv.hide(),e("#modalMask_"+n.indexNum).hide()),t.callback&&n.callback()},u=function(t){var n=t.num,r=t.num*90+9998,i=document.createElement("div");i.id="modalMask_"+n,i.className="modalMask",e("body").append(i),e("#modalMask_"+n).show().css({"z-index":r}),t.touchmove==1&&e("#modalMask_"+n).bind("touchmove",function(e){e.preventDefault()})},a=function(){var e={};return window.innerWidth?(e.x=window.pageXOffset,e.y=window.pageYOffset):document.documentElement&&document.documentElement.clientWidth?(e.x=document.documentElement.scrollLeft,e.y=document.documentElement.scrollTop):document.body.clientWidth&&(e.x=document.body.scrollLeft,e.y=document.body.scrollTop),e};return{tips:n,centerDiv:r,tipsClosed:s,centerDivClosed:o}});
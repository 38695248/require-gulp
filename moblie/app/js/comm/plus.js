define(["jquery","config"],function(e,t){var n=function(n){function f(){r.decimal=r.isInt?0:r.decimal}function l(e,t,n){return n=n>e?e:n,n=n<t?t:n,n}function c(e,t){if(t){var n=/^-?[1-9]\d*$/;return n.test(e)}return!isNaN(e)}function h(e,t){return e>t}var r={divid:e("#plus"),defaultNum:1,gradation:1,isInt:!0,decimal:2,minNum:1,maxNum:1e12,callback:function(){return!1}};n&&e.extend(r,n);var i=r.divid,s=i.find(".plus"),o=i.find(".minus"),u=i.find(".number"),a=r.defaultNum;f(),s.unbind("click").bind("click",function(){var t=e(this).siblings(".number").find("input"),i=num=Number(t.val());num+=r.gradation,num=l(r.maxNum,r.minNum,num),t.val(num),n.callback&&r.callback(num,e(this),i)}),o.unbind("click").bind("click",function(){var t=e(this).siblings(".number").find("input"),i=num=Number(t.val());num-=r.gradation,num=l(r.maxNum,r.minNum,num),t.val(num),n.callback&&r.callback(num,e(this),i)}),u.unbind("click").bind("keyup",function(){var i=e(this).val(),s=e(this);if(i=="")return a=r.defaultNum,!1;if(!c(i,r.isInt)||!h(r.maxNum,parseInt(i)))return e(this).val(a),t.tip.tips({htmlmsg:'<div style="padding:30px">输入错误，请重新输入。</div>',type:0}),!1;n.callback&&r.callback(i,e(this))}),u.change(function(){var i=e(this).val();if(i=="")return a=r.defaultNum,!1;if(!c(i,r.isInt)||!h(r.maxNum,parseInt(i)))return e(this).val(a),t.tip.tips({htmlmsg:'<div style="padding:30px">The number you entered exceeds the maximum value or not in the correct format</div>'}),!1;n.callback&&r.callback(i,e(this))}),u.on("blur",function(){if(e(this).val()=="")return e(this).val(r.defaultNum),!1;e(this).val(Number(e(this).val()).toFixed(r.decimal))})};return{plus:n}});
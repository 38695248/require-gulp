define(["jquery","config","ajax"],function(e,t,n){var r=function(){e("#mylist").unbind("click").bind("click",function(){i({})}),i({})},i=function(t){n.ajaxInit({url:"/m_buy/get_all_cats.html",params:{catid:t.catid},callback:function(n){if(n.status==1){var r=n.data.cats,o="",u="";e.each(r,function(e,t){e==0?(o+='<li class="rowbox cats_click current" data-catid="'+t.catid+'"><div class="row-flex1">'+t.name+"</div></li>",u=t.son):o+='<li class="rowbox cats_click" data-catid="'+t.catid+'"><div class="row-flex1">'+t.name+"</div></li>"}),t.catid||e("#t_sitebar_box").html(o),s(u),e("#t_sitebar_box").find(".cats_click").unbind("click").bind("click",function(){var t=e(this).attr("data-catid");e(this).addClass("current"),e(this).siblings(".cats_click").removeClass("current"),e("#son_soncats").html('<div class="imgloading" style="height:180px; width:100%"></div>'),i({catid:t})})}}})},s=function(t){var n="",r="";e.each(t,function(e,t){n+='<li><a href="'+t.url+'"><p><img src="'+t.icon_s+'"></p><p class="line30">'+t.name+"</p></a></li>",r+=o({name:t.name,sondata:t.son})}),e("#t_content").html(n),e("#son_soncats").html(r)},o=function(t){var n='<div class="clearfix"><h3 class="line24 ml-10 mt-10">'+t.name+"</h3><ul>";return e.each(t.sondata,function(e,t){n+='<li><a href="'+t.url+'"><p><img src="'+t.icon_s+'"></p><p class="line30">'+t.name+"</p></a></li>"}),n+="</ul></div>",n};return{init:r}});